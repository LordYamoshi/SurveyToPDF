<!DOCTYPE html>
<html>
<head>
    <title>Questionnaire and Consent Form</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; border: 1px solid #ccc; border-radius: 10px; }
        .section { margin-bottom: 20px; }
        .section h2 { margin-bottom: 10px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input[type="text"], input[type="email"], input[type="date"], textarea { width: 100%; padding: 8px; box-sizing: border-box; }
        input[type="radio"], input[type="checkbox"] { margin-right: 10px; }
        .checkbox-group label { display: inline; font-weight: normal; }
        button { padding: 10px 20px; background-color: #007BFF; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
        .section-divider { border-bottom: 1px solid #ccc; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <form id="questionnaireForm">
            <div class="section">
                <h2>Deel 1: Vragenlijst</h2>
                <div class="form-group">
                    <label>Bent u zwanger of geeft u borstvoeding?</label>
                    <input type="radio" name="pregnant" value="Nee"> Nee
                    <input type="radio" name="pregnant" value="Ja"> Ja
                    <div class="form-group">
                        <small>Zo ja, dan zien we u graag na deze periode. Het wordt namelijk afgeraden een laserbehandeling te ondergaan gedurende de zwangerschap of de periode dat u borstvoeding geeft.</small>
                    </div>
                </div>
                <div class="form-group">
                    <label>Gebruikt u een van de onderstaande medicijnen of zalven?</label>
                    <input type="radio" name="medication" value="Nee"> Nee
                    <input type="radio" name="medication" value="Ja"> Ja, namelijk
                    <input type="text" name="medicationDetails" placeholder="Naam van het medicijn">
                </div>
                <!-- Add more questions as needed -->
                <div class="section-divider"></div>
                <div class="form-group">
                    <label>Heeft u nu of in het verleden last gehad van?</label>
                    <div class="checkbox-group">
                        <input type="radio" name="condition" value="Huidkanker en/of leukemie"> Huidkanker en/of leukemie<br>
                        <input type="radio" name="condition" value="Pacemaker of inwendige defibrillator"> Pacemaker of inwendige defibrillator<br>
                        <input type="radio" name="condition" value="Geen van de bovenstaande"> Geen van de bovenstaande
                    </div>
                </div>
                <!-- Add more questions as needed -->
            </div>
            <div class="section">
                <h2>Deel 2: Toestemmingsformulier</h2>
                <div class="form-group">
                    <label>Naam:</label>
                    <input type="text" name="name">
                </div>
                <div class="form-group">
                    <label>Adres:</label>
                    <input type="text" name="address">
                </div>
                <div class="form-group">
                    <label>Telefoonnummer:</label>
                    <input type="text" name="phone">
                </div>
                <div class="form-group">
                    <label>E-mail:</label>
                    <input type="email" name="email">
                </div>
                <div class="form-group">
                    <label>Datum intakegesprek:</label>
                    <input type="date" name="intakeDate">
                </div>
                <div class="form-group">
                    <label>Behandelend specialist:</label>
                    <input type="text" name="specialist">
                </div>
                <!-- Add more fields as needed -->
                <div class="section-divider"></div>
                <div class="form-group">
                    <label>Complicaties en risicobehandeling:</label>
                    <textarea name="complications" rows="4" placeholder="Bespreek hier complicaties en risicobehandeling"></textarea>
                </div>
                <div class="form-group">
                    <label>Behandelduur:</label>
                    <input type="text" name="treatmentDuration">
                </div>
                <div class="form-group">
                    <label>Ik geef toestemming om mijn foto's te gebruiken op social media:</label>
                    <input type="radio" name="socialMediaConsent" value="Ja"> Ja
                    <input type="radio" name="socialMediaConsent" value="Nee"> Nee
                </div>
            </div>
            <button type="button" onclick="generatePDF()">Genereer PDF</button>
        </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
    <script>
        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Define styles and constants
            const margin = 10;
            let yPosition = 20;
            const lineHeight = 10;
            const lineSpacing = 5;

            doc.setFontSize(12);
            doc.text("Deel 1: Vragenlijst", margin, yPosition);
            yPosition += lineHeight + lineSpacing;

            const form = document.getElementById('questionnaireForm');
            const formData = new FormData(form);

            formData.forEach((value, key) => {
                if (value) {
                    if (key.includes("pregnant") || key.includes("medication") || key.includes("condition")) {
                        doc.text(`${key.replace(/([a-z])([A-Z])/g, '$1 $2')}:`, margin, yPosition);
                        doc.rect(120, yPosition - 8, 6, 6); // Checkbox or radio-like box
                        if (value === "Ja" || value === "Nee") {
                            doc.text(value, 130, yPosition);
                        } else {
                            doc.text(value, 140, yPosition);
                        }
                    } else {
                        doc.text(`${key}: ${value}`, margin, yPosition);
                    }
                    yPosition += lineHeight;
                }
            });

            doc.addPage();
            yPosition = margin;
            doc.text("Deel 2: Toestemmingsformulier", margin, yPosition);
            yPosition += lineHeight + lineSpacing;

            formData.forEach((value, key) => {
                if (value) {
                    if (key.includes("name") || key.includes("address") || key.includes("phone") || key.includes("email") || key.includes("intakeDate") || key.includes("specialist") || key.includes("complications") || key.includes("treatmentDuration") || key.includes("socialMediaConsent")) {
                        doc.text(`${key.replace(/([a-z])([A-Z])/g, '$1 $2')}:`, margin, yPosition);
                        doc.rect(120, yPosition - 8, 6, 6); // Checkbox or radio-like box
                        if (value === "Ja" || value === "Nee") {
                            doc.text(value, 130, yPosition);
                        } else {
                            doc.text(value, 140, yPosition);
                        }
                    } else {
                        doc.text(`${key}: ${value}`, margin, yPosition);
                    }
                    yPosition += lineHeight;
                }
            });

            doc.save("form.pdf");
        }
    </script>
</body>
</html>
